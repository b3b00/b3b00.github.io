<!DOCTYPE html>
<html>

<head>
  <title>Svelte PWA</title>
  <meta charset="utf-8">

  <!-- Fonts and CSS -->
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,600,700">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono">
  <link rel="stylesheet" href="dist/bundle.css">
  <link rel="apple-touch-icon" href="images/icons/icon-72x72.png" />
<link rel="apple-touch-icon" href="images/icons/icon-96x96.png" />
<link rel="apple-touch-icon" href="images/icons/icon-128x128.png" />
<link rel="apple-touch-icon" href="images/icons/icon-144x144.png" />
<link rel="apple-touch-icon" href="images/icons/icon-152x152.png" />
<link rel="apple-touch-icon" href="images/icons/icon-192x192.png" />
<link rel="apple-touch-icon" href="images/icons/icon-384x384.png" />
<link rel="apple-touch-icon" href="images/icons/icon-512x512.png" />

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="test.png">

  <link rel="stylesheet" type="text/css" href="./all.min.css">
<script src="./addtohomescreen.js"></script>
<script>
addToHomescreen({
    mandatory:true,
    onShow: function () {
        console.log( "showing" );
    },
    onInit: function () {
        console.log( "initializing" );
    },
    onAdd: function () {
        console.log( "adding" );
    },
    onInstall: function () {
        console.log( "Installing" );
    },
    onCancel: function () {
        console.log( "Cancelling" );
    }
} );
</script>

  <style>
    html,
    body {
      margin: 0;
      padding: 0;
    }
  </style>
</head>

<body>
  <app></app>
  <script>

    if ("serviceWorker" in navigator) {

      navigator.serviceWorker
        .register("/worker.js")
        .then(res => {
          console.log("service worker registered");
          
          /*------------------------------*/

          Notification.requestPermission(result => {
            if (result === 'granted') {
              console.log("notifications granted.",result);
              navigator.serviceWorker.ready.then(registration => {
                
              });
            }
          });
          /*------------------------------*/


      })
      .catch(err => console.log("service worker not registered", err))

    }

  </script>
  <script type="text/javascript" src="dist/bundle.js"></script>
  <script>


  </script>

</body>

</html>